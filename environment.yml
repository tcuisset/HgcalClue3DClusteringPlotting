name: clustering-analysis
channels:
 - conda-forge
 - nodefaults
dependencies:
 - python>=3.10
 - uproot=5.*
 - awkward=2.*
 - pandas=2.*
 - pytables # for pandas HDF5 IO
 - numexpr # For pandas.eval
 - numpy
 - scipy # for curve_fit
 - hist>=2.6,<2.7.2 # Histograms (2.7.2 uses boost-histogram 1.4.0 which breaks due to https://github.com/scikit-hep/boost-histogram/pull/876)
 - bokeh=3.*
 - ipykernel # notebooks
 - ipywidgets # to use tqdm in notebooks
 - matplotlib>=3
 - mplhep>=0.3 # plotting CMS style
 - plotly
 - python-kaleido # for saving plotly plots to png
 - nbformat # for plotly in notebooks (not sure if really needed)
 - hsluv # for color scales
 - dash # For event visualizer
 - jupyter-dash # To use dash in notebook
 - flask-caching # For caching events in dash event vis
 - tqdm # progress bars
 - uncertainties=3.*
 - scikit-learn # for wpca (somehow missing from dependencies)
 - snakeviz # (facultative, for visualization of profiler results)
 - tensorflow # for zfit
 - xrootd # facultative, for opening testbeam ntuples with xrootd and uproot (in notebooks) but necessary for zfit
 - cython>=0.28,<1 # (recommended) for accelerating some functions in dataframe.py (very slow otherwise)

# Pytorch on CPU
 - pytorch::pytorch
 - pytorch::cpuonly
 - pyg::pyg # torch_geometric
 - pyg::pytorch-cluster

 - pip
 - pip:
    - awkward-pandas
    - wpca # for weighted PCA of 3D clusters
    - zfit # for fitting (version on conda-forge is very old)
